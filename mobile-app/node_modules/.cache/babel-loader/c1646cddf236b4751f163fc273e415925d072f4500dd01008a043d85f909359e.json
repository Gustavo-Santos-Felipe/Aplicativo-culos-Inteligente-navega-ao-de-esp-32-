{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useCallback, useRef } from 'react';\n\n// Tipos de som disponíveis\n\n// Interface para configuração de som\n\n// Hook para gerenciar sons\nexport const useSounds = () => {\n  _s();\n  const audioRefs = useRef({\n    click: null,\n    notification: null,\n    success: null,\n    error: null,\n    connect: null,\n    disconnect: null,\n    navigation: null,\n    instruction: null,\n    hover: null,\n    toggle: null\n  });\n  const configRef = useRef({\n    volume: 0.5,\n    enabled: true\n  });\n\n  // Função para carregar um som\n  const loadSound = useCallback(type => {\n    if (audioRefs.current[type]) return;\n    const audio = new Audio(`/assets/sounds/${type}.mp3`);\n    audio.preload = 'auto';\n    audio.volume = configRef.current.volume;\n    audioRefs.current[type] = audio;\n  }, []);\n\n  // Função para tocar um som\n  const playSound = useCallback(type => {\n    if (!configRef.current.enabled) return;\n    const audio = audioRefs.current[type];\n    if (audio) {\n      audio.currentTime = 0;\n      audio.volume = configRef.current.volume;\n      audio.play().catch(error => {\n        console.warn(`Erro ao tocar som ${type}:`, error);\n      });\n    } else {\n      // Carregar e tocar se não estiver carregado\n      loadSound(type);\n      setTimeout(() => playSound(type), 100);\n    }\n  }, [loadSound]);\n\n  // Função para tocar som de hover (com debounce)\n  const playHoverSound = useCallback(() => {\n    if (!configRef.current.enabled) return;\n    const audio = audioRefs.current.hover;\n    if (audio && audio.paused) {\n      audio.currentTime = 0;\n      audio.volume = configRef.current.volume * 0.3; // Mais baixo para hover\n      audio.play().catch(() => {});\n    }\n  }, []);\n\n  // Função para configurar volume\n  const setVolume = useCallback(volume => {\n    configRef.current.volume = Math.max(0, Math.min(1, volume));\n\n    // Atualizar volume de todos os áudios carregados\n    Object.values(audioRefs.current).forEach(audio => {\n      if (audio) {\n        audio.volume = configRef.current.volume;\n      }\n    });\n  }, []);\n\n  // Função para habilitar/desabilitar sons\n  const setSoundEnabled = useCallback(enabled => {\n    configRef.current.enabled = enabled;\n  }, []);\n\n  // Função para pré-carregar todos os sons\n  const preloadSounds = useCallback(() => {\n    const soundTypes = ['click', 'notification', 'success', 'error', 'connect', 'disconnect', 'navigation', 'instruction', 'hover', 'toggle'];\n    soundTypes.forEach(type => {\n      loadSound(type);\n    });\n  }, [loadSound]);\n  return {\n    playSound,\n    playHoverSound,\n    setVolume,\n    setSoundEnabled,\n    preloadSounds,\n    isEnabled: () => configRef.current.enabled,\n    getVolume: () => configRef.current.volume\n  };\n};\n_s(useSounds, \"hqLz8YgzQlfyURxNuw61WMH7ogM=\");","map":{"version":3,"names":["useCallback","useRef","useSounds","_s","audioRefs","click","notification","success","error","connect","disconnect","navigation","instruction","hover","toggle","configRef","volume","enabled","loadSound","type","current","audio","Audio","preload","playSound","currentTime","play","catch","console","warn","setTimeout","playHoverSound","paused","setVolume","Math","max","min","Object","values","forEach","setSoundEnabled","preloadSounds","soundTypes","isEnabled","getVolume"],"sources":["C:/esp32-navigation-app/mobile-app/src/hooks/useSounds.ts"],"sourcesContent":["import { useCallback, useRef } from 'react';\r\n\r\n// Tipos de som disponíveis\r\nexport type SoundType = \r\n  | 'click'\r\n  | 'notification'\r\n  | 'success'\r\n  | 'error'\r\n  | 'connect'\r\n  | 'disconnect'\r\n  | 'navigation'\r\n  | 'instruction'\r\n  | 'hover'\r\n  | 'toggle';\r\n\r\n// Interface para configuração de som\r\ninterface SoundConfig {\r\n  volume: number;\r\n  enabled: boolean;\r\n}\r\n\r\n// Hook para gerenciar sons\r\nexport const useSounds = () => {\r\n  const audioRefs = useRef<Record<SoundType, HTMLAudioElement | null>>({\r\n    click: null,\r\n    notification: null,\r\n    success: null,\r\n    error: null,\r\n    connect: null,\r\n    disconnect: null,\r\n    navigation: null,\r\n    instruction: null,\r\n    hover: null,\r\n    toggle: null,\r\n  });\r\n\r\n  const configRef = useRef<SoundConfig>({\r\n    volume: 0.5,\r\n    enabled: true,\r\n  });\r\n\r\n  // Função para carregar um som\r\n  const loadSound = useCallback((type: SoundType) => {\r\n    if (audioRefs.current[type]) return;\r\n\r\n    const audio = new Audio(`/assets/sounds/${type}.mp3`);\r\n    audio.preload = 'auto';\r\n    audio.volume = configRef.current.volume;\r\n    audioRefs.current[type] = audio;\r\n  }, []);\r\n\r\n  // Função para tocar um som\r\n  const playSound = useCallback((type: SoundType) => {\r\n    if (!configRef.current.enabled) return;\r\n\r\n    const audio = audioRefs.current[type];\r\n    if (audio) {\r\n      audio.currentTime = 0;\r\n      audio.volume = configRef.current.volume;\r\n      audio.play().catch(error => {\r\n        console.warn(`Erro ao tocar som ${type}:`, error);\r\n      });\r\n    } else {\r\n      // Carregar e tocar se não estiver carregado\r\n      loadSound(type);\r\n      setTimeout(() => playSound(type), 100);\r\n    }\r\n  }, [loadSound]);\r\n\r\n  // Função para tocar som de hover (com debounce)\r\n  const playHoverSound = useCallback(() => {\r\n    if (!configRef.current.enabled) return;\r\n    \r\n    const audio = audioRefs.current.hover;\r\n    if (audio && audio.paused) {\r\n      audio.currentTime = 0;\r\n      audio.volume = configRef.current.volume * 0.3; // Mais baixo para hover\r\n      audio.play().catch(() => {});\r\n    }\r\n  }, []);\r\n\r\n  // Função para configurar volume\r\n  const setVolume = useCallback((volume: number) => {\r\n    configRef.current.volume = Math.max(0, Math.min(1, volume));\r\n    \r\n    // Atualizar volume de todos os áudios carregados\r\n    Object.values(audioRefs.current).forEach(audio => {\r\n      if (audio) {\r\n        audio.volume = configRef.current.volume;\r\n      }\r\n    });\r\n  }, []);\r\n\r\n  // Função para habilitar/desabilitar sons\r\n  const setSoundEnabled = useCallback((enabled: boolean) => {\r\n    configRef.current.enabled = enabled;\r\n  }, []);\r\n\r\n  // Função para pré-carregar todos os sons\r\n  const preloadSounds = useCallback(() => {\r\n    const soundTypes: SoundType[] = [\r\n      'click',\r\n      'notification', \r\n      'success',\r\n      'error',\r\n      'connect',\r\n      'disconnect',\r\n      'navigation',\r\n      'instruction',\r\n      'hover',\r\n      'toggle'\r\n    ];\r\n\r\n    soundTypes.forEach(type => {\r\n      loadSound(type);\r\n    });\r\n  }, [loadSound]);\r\n\r\n  return {\r\n    playSound,\r\n    playHoverSound,\r\n    setVolume,\r\n    setSoundEnabled,\r\n    preloadSounds,\r\n    isEnabled: () => configRef.current.enabled,\r\n    getVolume: () => configRef.current.volume,\r\n  };\r\n}; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}