{"ast":null,"code":"var _jsxFileName = \"C:\\\\esp32-navigation-app\\\\mobile-app\\\\src\\\\App.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect } from 'react';\nimport { GoogleMap, useJsApiLoader, Marker, Autocomplete, DirectionsRenderer } from '@react-google-maps/api';\n\n// ##################################################################\n// # COLOQUE SUAS CHAVES E IPs AQUI                                 #\n// ##################################################################\n\n// 1. CHAVE DA API GOOGLE MAPS PLATFORM\n//    Ative as APIs: \"Maps JavaScript API\", \"Directions API\", \"Places API\"\n//    Instruções: https://developers.google.com/maps/gmp-get-started\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst GOOGLE_MAPS_API_KEY = \"AIzaSyAVEzH5bvFPDpgjQtnA4s2TKfjEW_0OTLY\";\n\n// 2. ENDEREÇO IP DO ESP32\n//    Este é o IP que o ESP32 receberá na sua rede Wi-Fi.\nconst ESP32_IP_ADDRESS = \"192.168.1.12\"; // Exemplo: \"192.168.1.100\"\n\n// ##################################################################\n\nconst containerStyle = {\n  width: '100%',\n  height: '100%'\n};\n\n// Adicionando uma constante para a distância de gatilho\nconst NAVIGATION_TRIGGER_DISTANCE_METERS = 50; // Dispara o envio da instrução a 50 metros\n\nconst libraries = [\"places\"];\nfunction App() {\n  _s();\n  const {\n    isLoaded\n  } = useJsApiLoader({\n    id: 'google-map-script',\n    googleMapsApiKey: GOOGLE_MAPS_API_KEY,\n    libraries\n  });\n  const [map, setMap] = useState(null);\n  const [directionsResponse, setDirectionsResponse] = useState(null);\n  const [currentPosition, setCurrentPosition] = useState(null);\n  const [simplifiedInstructions, setSimplifiedInstructions] = useState([]);\n\n  // Novos estados para gerenciar a navegação\n  const [isNavigating, setIsNavigating] = useState(false);\n  const [currentStepIndex, setCurrentStepIndex] = useState(0);\n  const locationWatcherId = useRef(null);\n  const destinationRef = useRef(null);\n  useEffect(() => {\n    if (navigator.geolocation) {\n      navigator.geolocation.getCurrentPosition(position => {\n        const pos = {\n          lat: position.coords.latitude,\n          lng: position.coords.longitude\n        };\n        setCurrentPosition(pos);\n        map === null || map === void 0 ? void 0 : map.panTo(pos);\n      }, () => {\n        alert(\"Erro: O serviço de geolocalização falhou.\");\n      });\n    } else {\n      alert(\"Erro: Seu navegador não suporta geolocalização.\");\n    }\n  }, [map]);\n\n  // Nova função para calcular a distância entre dois pontos de GPS (fórmula de Haversine)\n  const getDistanceInMeters = (pos1, pos2) => {\n    const R = 6371e3; // Metros\n    const p1 = pos1.lat * Math.PI / 180;\n    const p2 = pos2.lat * Math.PI / 180;\n    const deltaP = (pos2.lat - pos1.lat) * Math.PI / 180;\n    const deltaL = (pos2.lng - pos1.lng) * Math.PI / 180;\n    const a = Math.sin(deltaP / 2) * Math.sin(deltaP / 2) + Math.cos(p1) * Math.cos(p2) * Math.sin(deltaL / 2) * Math.sin(deltaL / 2);\n    const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n    return R * c; // em metros\n  };\n  const calculateRoute = async () => {\n    var _destinationRef$curre;\n    if (!((_destinationRef$curre = destinationRef.current) !== null && _destinationRef$curre !== void 0 && _destinationRef$curre.value) || !currentPosition) {\n      return;\n    }\n    const directionsService = new google.maps.DirectionsService();\n    const results = await directionsService.route({\n      origin: currentPosition,\n      destination: destinationRef.current.value,\n      travelMode: google.maps.TravelMode.DRIVING\n    });\n    setDirectionsResponse(results);\n    generateSimplifiedInstructions(results);\n  };\n  const generateSimplifiedInstructions = directions => {\n    if (!directions.routes || directions.routes.length === 0) {\n      return;\n    }\n    const route = directions.routes[0].legs[0];\n    const instructions = route.steps.map(step => {\n      var _step$distance;\n      // Remove tags HTML da instrução (ex: <b>, <div>)\n      const cleanInstruction = step.instructions.replace(/<[^>]*>/g, '');\n      const distance = ((_step$distance = step.distance) === null || _step$distance === void 0 ? void 0 : _step$distance.text) || '';\n      return `${cleanInstruction} (${distance})`;\n    });\n    setSimplifiedInstructions(instructions);\n  };\n  const sendSingleInstructionToESP32 = async instruction => {\n    const endpoint = `http://${ESP32_IP_ADDRESS}/navigate`;\n    console.log(`Enviando instrução para ${endpoint}: ${instruction}`);\n    try {\n      const response = await fetch(endpoint, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        // ATENÇÃO: O formato do body mudou. O ESP32 precisará ser atualizado.\n        body: JSON.stringify({\n          instruction: instruction\n        })\n      });\n      if (!response.ok) {\n        throw new Error(`Falha na resposta do servidor: ${response.status}`);\n      }\n    } catch (error) {\n      console.error(\"Erro ao enviar instrução para o ESP32:\", error);\n      // Não alertar o usuário aqui para não interromper a navegação\n    }\n  };\n  const stopNavigation = () => {\n    if (locationWatcherId.current !== null) {\n      navigator.geolocation.clearWatch(locationWatcherId.current);\n      locationWatcherId.current = null;\n    }\n    setIsNavigating(false);\n    alert(\"Navegação encerrada.\");\n  };\n\n  // Este useEffect é o cérebro da navegação em tempo real\n  useEffect(() => {\n    if (!isNavigating) {\n      return;\n    }\n    const handleLocationUpdate = position => {\n      if (!(directionsResponse !== null && directionsResponse !== void 0 && directionsResponse.routes[0])) {\n        return;\n      }\n      const userPosition = {\n        lat: position.coords.latitude,\n        lng: position.coords.longitude\n      };\n      setCurrentPosition(userPosition); // Atualiza o marcador no mapa\n\n      const route = directionsResponse.routes[0].legs[0];\n      if (currentStepIndex >= route.steps.length) {\n        sendSingleInstructionToESP32(\"Voce chegou ao seu destino!\");\n        stopNavigation();\n        return;\n      }\n      const nextStep = route.steps[currentStepIndex];\n      const nextStepLocation = {\n        lat: nextStep.start_location.lat(),\n        lng: nextStep.start_location.lng()\n      };\n      const distance = getDistanceInMeters(userPosition, nextStepLocation);\n      console.log(`Distância para a próxima manobra: ${distance.toFixed(0)} metros.`);\n      if (distance < NAVIGATION_TRIGGER_DISTANCE_METERS) {\n        const instructionText = nextStep.instructions.replace(/<[^>]*>/g, '');\n        sendSingleInstructionToESP32(instructionText);\n        setCurrentStepIndex(prevIndex => prevIndex + 1);\n      }\n    };\n    const handleLocationError = error => {\n      alert(`Erro de geolocalização: ${error.message}`);\n      stopNavigation();\n    };\n    locationWatcherId.current = navigator.geolocation.watchPosition(handleLocationUpdate, handleLocationError, {\n      enableHighAccuracy: true,\n      timeout: 10000,\n      maximumAge: 0\n    });\n    return () => {\n      if (locationWatcherId.current !== null) {\n        navigator.geolocation.clearWatch(locationWatcherId.current);\n      }\n    };\n  }, [isNavigating, currentStepIndex, directionsResponse]);\n  const startNavigation = () => {\n    if (!directionsResponse) {\n      alert(\"É necessário calcular uma rota antes de iniciar a navegação.\");\n      return;\n    }\n    setCurrentStepIndex(0);\n    setIsNavigating(true);\n    alert(\"Iniciando navegação!\");\n  };\n  if (!isLoaded) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Carregando Mapa...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"map-container\",\n      children: /*#__PURE__*/_jsxDEV(GoogleMap, {\n        mapContainerStyle: containerStyle,\n        center: currentPosition || {\n          lat: -23.55052,\n          lng: -46.633308\n        } // Fallback to São Paulo\n        ,\n        zoom: 15,\n        onLoad: map => setMap(map),\n        options: {\n          disableDefaultUI: true,\n          zoomControl: true\n        },\n        children: [currentPosition && /*#__PURE__*/_jsxDEV(Marker, {\n          position: currentPosition\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 31\n        }, this), directionsResponse && /*#__PURE__*/_jsxDEV(DirectionsRenderer, {\n          directions: directionsResponse\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 228,\n          columnNumber: 34\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"controls-container\",\n      children: [/*#__PURE__*/_jsxDEV(Autocomplete, {\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Digite o endere\\xE7o de destino\",\n          ref: destinationRef\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 234,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: calculateRoute,\n        children: \"Gerar Rota\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 9\n      }, this), !isNavigating ? /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: startNavigation,\n        disabled: !directionsResponse,\n        children: \"Iniciar Navega\\xE7\\xE3o\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: stopNavigation,\n        className: \"stop-button\",\n        children: \"Parar Navega\\xE7\\xE3o\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"instructions\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Instru\\xE7\\xF5es de Navega\\xE7\\xE3o\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: simplifiedInstructions.map((inst, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n          children: inst\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 218,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"mv7CQX/ONr6NuVgyqCYoevGXqm0=\", false, function () {\n  return [useJsApiLoader];\n});\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useRef","useEffect","GoogleMap","useJsApiLoader","Marker","Autocomplete","DirectionsRenderer","jsxDEV","_jsxDEV","GOOGLE_MAPS_API_KEY","ESP32_IP_ADDRESS","containerStyle","width","height","NAVIGATION_TRIGGER_DISTANCE_METERS","libraries","App","_s","isLoaded","id","googleMapsApiKey","map","setMap","directionsResponse","setDirectionsResponse","currentPosition","setCurrentPosition","simplifiedInstructions","setSimplifiedInstructions","isNavigating","setIsNavigating","currentStepIndex","setCurrentStepIndex","locationWatcherId","destinationRef","navigator","geolocation","getCurrentPosition","position","pos","lat","coords","latitude","lng","longitude","panTo","alert","getDistanceInMeters","pos1","pos2","R","p1","Math","PI","p2","deltaP","deltaL","a","sin","cos","c","atan2","sqrt","calculateRoute","_destinationRef$curre","current","value","directionsService","google","maps","DirectionsService","results","route","origin","destination","travelMode","TravelMode","DRIVING","generateSimplifiedInstructions","directions","routes","length","legs","instructions","steps","step","_step$distance","cleanInstruction","replace","distance","text","sendSingleInstructionToESP32","instruction","endpoint","console","log","response","fetch","method","headers","body","JSON","stringify","ok","Error","status","error","stopNavigation","clearWatch","handleLocationUpdate","userPosition","nextStep","nextStepLocation","start_location","toFixed","instructionText","prevIndex","handleLocationError","message","watchPosition","enableHighAccuracy","timeout","maximumAge","startNavigation","children","fileName","_jsxFileName","lineNumber","columnNumber","className","mapContainerStyle","center","zoom","onLoad","options","disableDefaultUI","zoomControl","type","placeholder","ref","onClick","disabled","inst","index","_c","$RefreshReg$"],"sources":["C:/esp32-navigation-app/mobile-app/src/App.tsx"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\r\nimport { GoogleMap, useJsApiLoader, Marker, Autocomplete, DirectionsRenderer } from '@react-google-maps/api';\r\n\r\n// ##################################################################\r\n// # COLOQUE SUAS CHAVES E IPs AQUI                                 #\r\n// ##################################################################\r\n\r\n// 1. CHAVE DA API GOOGLE MAPS PLATFORM\r\n//    Ative as APIs: \"Maps JavaScript API\", \"Directions API\", \"Places API\"\r\n//    Instruções: https://developers.google.com/maps/gmp-get-started\r\nconst GOOGLE_MAPS_API_KEY = \"AIzaSyAVEzH5bvFPDpgjQtnA4s2TKfjEW_0OTLY\";\r\n\r\n// 2. ENDEREÇO IP DO ESP32\r\n//    Este é o IP que o ESP32 receberá na sua rede Wi-Fi.\r\nconst ESP32_IP_ADDRESS = \"192.168.1.12\"; // Exemplo: \"192.168.1.100\"\r\n\r\n// ##################################################################\r\n\r\nconst containerStyle = {\r\n  width: '100%',\r\n  height: '100%'\r\n};\r\n\r\n// Adicionando uma constante para a distância de gatilho\r\nconst NAVIGATION_TRIGGER_DISTANCE_METERS = 50; // Dispara o envio da instrução a 50 metros\r\n\r\nconst libraries: \"places\"[] = [\"places\"];\r\n\r\nfunction App() {\r\n  const { isLoaded } = useJsApiLoader({\r\n    id: 'google-map-script',\r\n    googleMapsApiKey: GOOGLE_MAPS_API_KEY,\r\n    libraries,\r\n  });\r\n\r\n  const [map, setMap] = useState<google.maps.Map | null>(null);\r\n  const [directionsResponse, setDirectionsResponse] = useState<google.maps.DirectionsResult | null>(null);\r\n  const [currentPosition, setCurrentPosition] = useState<google.maps.LatLngLiteral | null>(null);\r\n  const [simplifiedInstructions, setSimplifiedInstructions] = useState<string[]>([]);\r\n  \r\n  // Novos estados para gerenciar a navegação\r\n  const [isNavigating, setIsNavigating] = useState(false);\r\n  const [currentStepIndex, setCurrentStepIndex] = useState(0);\r\n  const locationWatcherId = useRef<number | null>(null);\r\n  \r\n  const destinationRef = useRef<HTMLInputElement>(null);\r\n\r\n  useEffect(() => {\r\n    if (navigator.geolocation) {\r\n      navigator.geolocation.getCurrentPosition(\r\n        (position) => {\r\n          const pos = {\r\n            lat: position.coords.latitude,\r\n            lng: position.coords.longitude,\r\n          };\r\n          setCurrentPosition(pos);\r\n          map?.panTo(pos);\r\n        },\r\n        () => {\r\n          alert(\"Erro: O serviço de geolocalização falhou.\");\r\n        }\r\n      );\r\n    } else {\r\n      alert(\"Erro: Seu navegador não suporta geolocalização.\");\r\n    }\r\n  }, [map]);\r\n\r\n  // Nova função para calcular a distância entre dois pontos de GPS (fórmula de Haversine)\r\n  const getDistanceInMeters = (pos1: google.maps.LatLngLiteral, pos2: google.maps.LatLngLiteral) => {\r\n    const R = 6371e3; // Metros\r\n    const p1 = (pos1.lat * Math.PI) / 180;\r\n    const p2 = (pos2.lat * Math.PI) / 180;\r\n    const deltaP = ((pos2.lat - pos1.lat) * Math.PI) / 180;\r\n    const deltaL = ((pos2.lng - pos1.lng) * Math.PI) / 180;\r\n    const a =\r\n      Math.sin(deltaP / 2) * Math.sin(deltaP / 2) +\r\n      Math.cos(p1) * Math.cos(p2) * Math.sin(deltaL / 2) * Math.sin(deltaL / 2);\r\n    const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\r\n    return R * c; // em metros\r\n  };\r\n\r\n  const calculateRoute = async () => {\r\n    if (!destinationRef.current?.value || !currentPosition) {\r\n      return;\r\n    }\r\n    \r\n    const directionsService = new google.maps.DirectionsService();\r\n    const results = await directionsService.route({\r\n      origin: currentPosition,\r\n      destination: destinationRef.current.value,\r\n      travelMode: google.maps.TravelMode.DRIVING\r\n    });\r\n\r\n    setDirectionsResponse(results);\r\n    generateSimplifiedInstructions(results);\r\n  };\r\n  \r\n  const generateSimplifiedInstructions = (directions: google.maps.DirectionsResult) => {\r\n    if (!directions.routes || directions.routes.length === 0) {\r\n      return;\r\n    }\r\n    const route = directions.routes[0].legs[0];\r\n    const instructions = route.steps.map((step: google.maps.DirectionsStep) => {\r\n      // Remove tags HTML da instrução (ex: <b>, <div>)\r\n      const cleanInstruction = step.instructions.replace(/<[^>]*>/g, '');\r\n      const distance = step.distance?.text || '';\r\n      return `${cleanInstruction} (${distance})`;\r\n    });\r\n    setSimplifiedInstructions(instructions);\r\n  };\r\n\r\n  const sendSingleInstructionToESP32 = async (instruction: string) => {\r\n    const endpoint = `http://${ESP32_IP_ADDRESS}/navigate`;\r\n    console.log(`Enviando instrução para ${endpoint}: ${instruction}`);\r\n\r\n    try {\r\n      const response = await fetch(endpoint, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        // ATENÇÃO: O formato do body mudou. O ESP32 precisará ser atualizado.\r\n        body: JSON.stringify({ instruction: instruction }),\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error(`Falha na resposta do servidor: ${response.status}`);\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Erro ao enviar instrução para o ESP32:\", error);\r\n      // Não alertar o usuário aqui para não interromper a navegação\r\n    }\r\n  };\r\n\r\n  const stopNavigation = () => {\r\n    if (locationWatcherId.current !== null) {\r\n      navigator.geolocation.clearWatch(locationWatcherId.current);\r\n      locationWatcherId.current = null;\r\n    }\r\n    setIsNavigating(false);\r\n    alert(\"Navegação encerrada.\");\r\n  };\r\n\r\n  // Este useEffect é o cérebro da navegação em tempo real\r\n  useEffect(() => {\r\n    if (!isNavigating) {\r\n      return;\r\n    }\r\n\r\n    const handleLocationUpdate = (position: GeolocationPosition) => {\r\n      if (!directionsResponse?.routes[0]) {\r\n        return;\r\n      }\r\n\r\n      const userPosition: google.maps.LatLngLiteral = {\r\n        lat: position.coords.latitude,\r\n        lng: position.coords.longitude,\r\n      };\r\n      setCurrentPosition(userPosition); // Atualiza o marcador no mapa\r\n\r\n      const route = directionsResponse.routes[0].legs[0];\r\n      if (currentStepIndex >= route.steps.length) {\r\n        sendSingleInstructionToESP32(\"Voce chegou ao seu destino!\");\r\n        stopNavigation();\r\n        return;\r\n      }\r\n\r\n      const nextStep = route.steps[currentStepIndex];\r\n      const nextStepLocation: google.maps.LatLngLiteral = {\r\n        lat: nextStep.start_location.lat(),\r\n        lng: nextStep.start_location.lng(),\r\n      };\r\n\r\n      const distance = getDistanceInMeters(userPosition, nextStepLocation);\r\n      console.log(`Distância para a próxima manobra: ${distance.toFixed(0)} metros.`);\r\n\r\n      if (distance < NAVIGATION_TRIGGER_DISTANCE_METERS) {\r\n        const instructionText = nextStep.instructions.replace(/<[^>]*>/g, '');\r\n        sendSingleInstructionToESP32(instructionText);\r\n        setCurrentStepIndex(prevIndex => prevIndex + 1);\r\n      }\r\n    };\r\n\r\n    const handleLocationError = (error: GeolocationPositionError) => {\r\n      alert(`Erro de geolocalização: ${error.message}`);\r\n      stopNavigation();\r\n    };\r\n\r\n    locationWatcherId.current = navigator.geolocation.watchPosition(\r\n      handleLocationUpdate,\r\n      handleLocationError,\r\n      { enableHighAccuracy: true, timeout: 10000, maximumAge: 0 }\r\n    );\r\n\r\n    return () => {\r\n      if (locationWatcherId.current !== null) {\r\n        navigator.geolocation.clearWatch(locationWatcherId.current);\r\n      }\r\n    };\r\n  }, [isNavigating, currentStepIndex, directionsResponse]);\r\n\r\n\r\n  const startNavigation = () => {\r\n    if (!directionsResponse) {\r\n      alert(\"É necessário calcular uma rota antes de iniciar a navegação.\");\r\n      return;\r\n    }\r\n    setCurrentStepIndex(0);\r\n    setIsNavigating(true);\r\n    alert(\"Iniciando navegação!\");\r\n  };\r\n\r\n  if (!isLoaded) {\r\n    return <div>Carregando Mapa...</div>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <div className=\"map-container\">\r\n        <GoogleMap\r\n          mapContainerStyle={containerStyle}\r\n          center={currentPosition || { lat: -23.55052, lng: -46.633308 }} // Fallback to São Paulo\r\n          zoom={15}\r\n          onLoad={(map: google.maps.Map) => setMap(map)}\r\n          options={{disableDefaultUI: true, zoomControl: true}}\r\n        >\r\n          {currentPosition && <Marker position={currentPosition} />}\r\n          {directionsResponse && <DirectionsRenderer directions={directionsResponse} />}\r\n        </GoogleMap>\r\n      </div>\r\n      \r\n      <div className=\"controls-container\">\r\n        <Autocomplete>\r\n          <input\r\n            type='text'\r\n            placeholder='Digite o endereço de destino'\r\n            ref={destinationRef}\r\n          />\r\n        </Autocomplete>\r\n        <button onClick={calculateRoute}>Gerar Rota</button>\r\n        \r\n        {!isNavigating ? (\r\n          <button onClick={startNavigation} disabled={!directionsResponse}>\r\n            Iniciar Navegação\r\n          </button>\r\n        ) : (\r\n          <button onClick={stopNavigation} className=\"stop-button\">\r\n            Parar Navegação\r\n          </button>\r\n        )}\r\n      </div>\r\n\r\n      <div className=\"instructions\">\r\n        <h3>Instruções de Navegação</h3>\r\n        <ul>\r\n          {simplifiedInstructions.map((inst, index) => (\r\n            <li key={index}>{inst}</li>\r\n          ))}\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}