{"ast":null,"code":"import{useCallback,useRef}from'react';// Tipos de som disponíveis\n// Interface para configuração de som\n// Hook para gerenciar sons\nexport const useSounds=()=>{const audioRefs=useRef({click:null,notification:null,success:null,error:null,connect:null,disconnect:null,navigation:null,instruction:null,hover:null,toggle:null});const configRef=useRef({volume:0.5,enabled:true});// Função para carregar um som\nconst loadSound=useCallback(type=>{if(audioRefs.current[type])return;const audio=new Audio(\"/assets/sounds/\".concat(type,\".mp3\"));audio.preload='auto';audio.volume=configRef.current.volume;audioRefs.current[type]=audio;},[]);// Função para tocar um som\nconst playSound=useCallback(type=>{if(!configRef.current.enabled)return;const audio=audioRefs.current[type];if(audio){audio.currentTime=0;audio.volume=configRef.current.volume;audio.play().catch(error=>{console.warn(\"Erro ao tocar som \".concat(type,\":\"),error);});}else{// Carregar e tocar se não estiver carregado\nloadSound(type);setTimeout(()=>playSound(type),100);}},[loadSound]);// Função para tocar som de hover (com debounce)\nconst playHoverSound=useCallback(()=>{if(!configRef.current.enabled)return;const audio=audioRefs.current.hover;if(audio&&audio.paused){audio.currentTime=0;audio.volume=configRef.current.volume*0.3;// Mais baixo para hover\naudio.play().catch(()=>{});}},[]);// Função para configurar volume\nconst setVolume=useCallback(volume=>{configRef.current.volume=Math.max(0,Math.min(1,volume));// Atualizar volume de todos os áudios carregados\nObject.values(audioRefs.current).forEach(audio=>{if(audio){audio.volume=configRef.current.volume;}});},[]);// Função para habilitar/desabilitar sons\nconst setSoundEnabled=useCallback(enabled=>{configRef.current.enabled=enabled;},[]);// Função para pré-carregar todos os sons\nconst preloadSounds=useCallback(()=>{const soundTypes=['click','notification','success','error','connect','disconnect','navigation','instruction','hover','toggle'];soundTypes.forEach(type=>{loadSound(type);});},[loadSound]);return{playSound,playHoverSound,setVolume,setSoundEnabled,preloadSounds,isEnabled:()=>configRef.current.enabled,getVolume:()=>configRef.current.volume};};","map":{"version":3,"names":["useCallback","useRef","useSounds","audioRefs","click","notification","success","error","connect","disconnect","navigation","instruction","hover","toggle","configRef","volume","enabled","loadSound","type","current","audio","Audio","concat","preload","playSound","currentTime","play","catch","console","warn","setTimeout","playHoverSound","paused","setVolume","Math","max","min","Object","values","forEach","setSoundEnabled","preloadSounds","soundTypes","isEnabled","getVolume"],"sources":["C:/esp32-navigation-app/mobile-app/src/hooks/useSounds.ts"],"sourcesContent":["import { useCallback, useRef } from 'react';\r\n\r\n// Tipos de som disponíveis\r\nexport type SoundType = \r\n  | 'click'\r\n  | 'notification'\r\n  | 'success'\r\n  | 'error'\r\n  | 'connect'\r\n  | 'disconnect'\r\n  | 'navigation'\r\n  | 'instruction'\r\n  | 'hover'\r\n  | 'toggle';\r\n\r\n// Interface para configuração de som\r\ninterface SoundConfig {\r\n  volume: number;\r\n  enabled: boolean;\r\n}\r\n\r\n// Hook para gerenciar sons\r\nexport const useSounds = () => {\r\n  const audioRefs = useRef<Record<SoundType, HTMLAudioElement | null>>({\r\n    click: null,\r\n    notification: null,\r\n    success: null,\r\n    error: null,\r\n    connect: null,\r\n    disconnect: null,\r\n    navigation: null,\r\n    instruction: null,\r\n    hover: null,\r\n    toggle: null,\r\n  });\r\n\r\n  const configRef = useRef<SoundConfig>({\r\n    volume: 0.5,\r\n    enabled: true,\r\n  });\r\n\r\n  // Função para carregar um som\r\n  const loadSound = useCallback((type: SoundType) => {\r\n    if (audioRefs.current[type]) return;\r\n\r\n    const audio = new Audio(`/assets/sounds/${type}.mp3`);\r\n    audio.preload = 'auto';\r\n    audio.volume = configRef.current.volume;\r\n    audioRefs.current[type] = audio;\r\n  }, []);\r\n\r\n  // Função para tocar um som\r\n  const playSound = useCallback((type: SoundType) => {\r\n    if (!configRef.current.enabled) return;\r\n\r\n    const audio = audioRefs.current[type];\r\n    if (audio) {\r\n      audio.currentTime = 0;\r\n      audio.volume = configRef.current.volume;\r\n      audio.play().catch(error => {\r\n        console.warn(`Erro ao tocar som ${type}:`, error);\r\n      });\r\n    } else {\r\n      // Carregar e tocar se não estiver carregado\r\n      loadSound(type);\r\n      setTimeout(() => playSound(type), 100);\r\n    }\r\n  }, [loadSound]);\r\n\r\n  // Função para tocar som de hover (com debounce)\r\n  const playHoverSound = useCallback(() => {\r\n    if (!configRef.current.enabled) return;\r\n    \r\n    const audio = audioRefs.current.hover;\r\n    if (audio && audio.paused) {\r\n      audio.currentTime = 0;\r\n      audio.volume = configRef.current.volume * 0.3; // Mais baixo para hover\r\n      audio.play().catch(() => {});\r\n    }\r\n  }, []);\r\n\r\n  // Função para configurar volume\r\n  const setVolume = useCallback((volume: number) => {\r\n    configRef.current.volume = Math.max(0, Math.min(1, volume));\r\n    \r\n    // Atualizar volume de todos os áudios carregados\r\n    Object.values(audioRefs.current).forEach(audio => {\r\n      if (audio) {\r\n        audio.volume = configRef.current.volume;\r\n      }\r\n    });\r\n  }, []);\r\n\r\n  // Função para habilitar/desabilitar sons\r\n  const setSoundEnabled = useCallback((enabled: boolean) => {\r\n    configRef.current.enabled = enabled;\r\n  }, []);\r\n\r\n  // Função para pré-carregar todos os sons\r\n  const preloadSounds = useCallback(() => {\r\n    const soundTypes: SoundType[] = [\r\n      'click',\r\n      'notification', \r\n      'success',\r\n      'error',\r\n      'connect',\r\n      'disconnect',\r\n      'navigation',\r\n      'instruction',\r\n      'hover',\r\n      'toggle'\r\n    ];\r\n\r\n    soundTypes.forEach(type => {\r\n      loadSound(type);\r\n    });\r\n  }, [loadSound]);\r\n\r\n  return {\r\n    playSound,\r\n    playHoverSound,\r\n    setVolume,\r\n    setSoundEnabled,\r\n    preloadSounds,\r\n    isEnabled: () => configRef.current.enabled,\r\n    getVolume: () => configRef.current.volume,\r\n  };\r\n}; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}